jQuery(document).ready(function(e){M.AutoInit(),e("a.sidenav-trigger-lg").click(function(n){e("body").toggleClass("sidenav-open"),e("#slide-out").removeAttr("style"),e("body").hasClass("sidenav-open")?localStorage.setItem("sidenav-open","sidenav-open"):localStorage.removeItem("sidenav-open","sidenav-open")}),e(".sidenav").hover(function(){$this=e(this),$this.addClass("animate-open")},function(){$this=e(this),$this.removeClass("animate-open")}),e("#darkmode-switch").change(function(n){n.preventDefault(),e("html").toggleClass("dark-mode"),e(this).is(":checked")?localStorage.setItem("dark-mode","dark-mode"):localStorage.removeItem("dark-mode","dark-mode")}),e("#darkmode-switch").prop("checked",!1),localStorage.getItem("dark-mode")&&(e("html").toggleClass("dark-mode"),e("#darkmode-switch").prop("checked",!0)),localStorage.getItem("sidenav-open")&&e("body").toggleClass("sidenav-open")}),formsElements=[{field_name:"title",displayName:"Titulo",icon:"format_color_text",component:"formFieldTitle",status:"1",data:{}},{field_name:"text",displayName:"Texto",icon:"short_text",component:"formFieldTextArea",status:"1",data:{}},{field_name:"formatText",displayName:"Texto con formato",component:"formTextFormat",icon:"format_size",status:"1",data:{}},{field_name:"image",displayName:"Imagen",component:"formImageSelector",icon:"image",status:"1",data:{}},{field_name:"date",displayName:"Fecha",component:"formFieldDate",icon:"date_range",status:"1",data:{}},{field_name:"time",displayName:"Hora",component:"formFieldTime",icon:"access_time",status:"1",data:{}},{field_name:"number",displayName:"Numero",component:"formFieldNumber",icon:"looks_one",status:"1",data:{}},{field_name:"dropdown_select",displayName:"Select",component:"formFieldSelect",status:"1",icon:"list",data:{}},{field_name:"bolean",displayName:"Bolean",component:"formFieldBoolean",status:"1",icon:"check_circle",data:{}}],navigator.serviceWorker&&window.addEventListener("load",async function(){let e;navigator.serviceWorker.addEventListener("controllerchange",function(n){e||(e=!0,window.location.reload())}),navigator.serviceWorker.register("/sw.js",{scope:BASEURL+"admin/"}).then(function(e){navigator.serviceWorker.controller&&(e.update(),function(e,n){if(e.waiting)return n();function a(){e.installing.addEventListener("statechange",function(e){"installed"===e.target.state&&n()})}if(e.installing)return a();e.addEventListener("updatefound",a)}(e,function(){!function(e){document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",'<div id = "update-app-zone" >\n       <div class="card blue-grey darken-1">\n        <div class="card-content white-text">\n          <p><span>Hay una nueva version de la aplicacion, haz click aqu√≠ para actualizar</span></p>\n        </div>\n        <div class="card-action">\n          <a href="#"><i class="fas fa-redo"></i> Actualizar</a>\n        </div>\n      </div>\n      </div>'),document.querySelector("#update-app-zone a").addEventListener("click",function(){if(e.waiting){if(window.location.href.includes("admin/login")){localStorage.clear();const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const a=e[n],t=a.indexOf("="),i=t>-1?a.substr(0,t):a;document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}e.waiting.postMessage("skipWaiting")}})}(e)}))})}),Vue.component("userInfo",{template:'\n  <div class="collection form-user-component user-info-inline">\n    <div class="collection-item avatar">\n      <a :href="user.get_profileurl()">\n        <img :src="user.get_avatarurl()" alt="" class="circle profile-img">\n        <span class="title">{{user.get_fullname()}}</span>\n        <div>{{user.role ? user.role : user.usergroup.name}}</div>\n      </a>\n    </div>\n  </div>\n  ',props:["user"]}),Vue.component("preloader",{template:'\n  <div class="preloader-wrapper big active">\n      <div class="spinner-layer spinner-blue-only">\n          <div class="circle-clipper left">\n              <div class="circle"></div>\n          </div>\n          <div class="gap-patch">\n              <div class="circle"></div>\n          </div>\n          <div class="circle-clipper right">\n              <div class="circle"></div>\n          </div>\n      </div>\n  </div>\n  '}),Vue.component("confirmModal",{props:["id","title"],template:'\n    <div :id="id" class="modal confirm-modal">\n    <div class="modal-content">\n          <div class="modal-header">\n            <div class="row">\n              <div class="col s12">\n                <h4>{{title}}</h4>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n              <div class="col s12">\n                  <slot></slot>\n              </div>\n          </div>\n      </div>\n      <div class="modal-footer">\n          <button type="button" class="modal-action modal-close waves-effect waves-red btn red" @click="onClickButton(false);">Cancelar</button>\n          <button type="button" class="modal-close waves-effect waves-green btn" @click="onClickButton(true);">Aceptar</button>\n      </div>\n  </div>\n  ',methods:{onClickButton(e){this.$emit("notify",e)}}}),Vue.component("preview",{props:["url"],data:()=>({fullScreen:!1,previewUrl:""}),template:'\n  <div class="preview-container" v-bind:class="{fixed: fullScreen}">\n    <div class="preview-options">\n    <input type="text" name="url" id="url" readonly :value="previewUrl">\n    <a href="#!" class="option"><i class="material-icons" v-on:click="expand();">aspect_ratio</i></a>\n    <a :href="previewUrl" class="option" target="_blank"><i class="material-icons">open_in_new</i></a>\n    </div>\n    <iframe class="responsive-iframe" :src="previewUrl"></iframe>\n  </div>\n  ',watch:{url:function(e){this.previewUrl=e}},mounted(){this.$nextTick(function(){this.previewUrl=this.url})},methods:{togglePreview(){this.fullScreen=!this.fullScreen},expand(){this.$emit("expand")}}});
