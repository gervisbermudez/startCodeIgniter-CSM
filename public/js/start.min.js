function resolve(e,t){t=t.split(".");for(var a=e;t.length;){if("object"!=typeof a)return;a=a[t.shift()]}return a}function getFuncName(){return getFuncName.caller.name}jQuery(document).ready((function(e){M.AutoInit(),e("a.sidenav-trigger-lg").click((function(t){e("body").toggleClass("sidenav-open"),e("#slide-out").removeAttr("style"),e("body").hasClass("sidenav-open")?localStorage.setItem("sidenav-open","sidenav-open"):localStorage.removeItem("sidenav-open","sidenav-open")})),e(".sidenav").hover((function(){$this=e(this),$this.addClass("animate-open")}),(function(){$this=e(this),$this.removeClass("animate-open")})),e("#darkmode-switch").change((function(t){t.preventDefault(),e("html").toggleClass("dark-mode"),e(this).is(":checked")?localStorage.setItem("dark-mode","dark-mode"):localStorage.removeItem("dark-mode","dark-mode")})),e("#darkmode-switch").prop("checked",!1),localStorage.getItem("dark-mode")&&(e("html").toggleClass("dark-mode"),e("#darkmode-switch").prop("checked",!0)),localStorage.getItem("sidenav-open")&&e("body").toggleClass("sidenav-open")}));var mixins={data:()=>({debug:DEBUGMODE,orderDataConf:{strPropertyName:null,sort_as:"asc"},toDeleteItem:{}}),filters:{capitalize:function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""}},methods:{searchInObject(e,t){for(var a=Object.keys(e),n=!1,i=0;i<a.length&&!("string"==typeof e[a[i]]&&(item_val=e[a[i]],n=-1!=item_val.toLowerCase().indexOf(t)));i++);return n},getFullFileName:e=>e.file_name+"."+e.file_type,getFullFilePath(e){return BASEURL+e.file_path+this.getFullFileName(e)},getSortData(e){return this.orderDataConf.strPropertyName==e?"sort_desc":this.orderDataConf.strPropertyName=="-"+e?"sort_asc":"both"},sortData(e,t){e=null==this.orderDataConf.strPropertyName?e:this.orderDataConf.strPropertyName==e?"-"+e:e;let a=t.sort(this.dynamicSort(e));this.orderDataConf.strPropertyName=e,t=a},dynamicSort(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}},base_url:function(e){return BASEURL+e},getcontentText:function(e,t=120){var a=document.createElement("span");return a.innerHTML=e,(a.textContent||a.innerText).substring(0,t)+"..."},makeid:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length;let n="";for(var i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*a));return n},string_to_slug:function(e){if(0==e.length)return"";e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",a=0,n=t.length;a<n;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},getFormattedDate:function(e,t=!1,a=!1){const n=e.getDate(),i=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],r=e.getFullYear(),s=e.getHours();let o=e.getMinutes();return o<10&&(o="0"+o),t?`${t} at ${s}:${o}`:a?`${n} ${i} at ${s}:${o}`:`${n} ${i} ${r} at ${s}:${o}`},timeAgo:function(e){if(!e)return null;const t="object"==typeof e?e:new Date(e),a=new Date,n=new Date(a-864e5),i=Math.round((a-t)/1e3),r=Math.round(i/60),s=a.toDateString()===t.toDateString(),o=n.toDateString()===t.toDateString(),l=a.getFullYear()===t.getFullYear();return i<5?"now":i<60?i+" seconds ago":i<90?"about a minute ago":r<60?r+" minutes ago":s?this.getFormattedDate(t,"Today"):o?this.getFormattedDate(t,"Yesterday"):l?this.getFormattedDate(t,!1,!0):this.getFormattedDate(t)}}};formsElements=[{field_name:"title",displayName:"Titulo",icon:"format_color_text",component:"formFieldTitle",status:"1",data:{}},{field_name:"text",displayName:"Texto",icon:"short_text",component:"formFieldTextArea",status:"1",data:{}},{field_name:"formatText",displayName:"Texto con formato",component:"formTextFormat",icon:"format_size",status:"1",data:{}},{field_name:"image",displayName:"Imagen",component:"formImageSelector",icon:"image",status:"1",data:{}},{field_name:"date",displayName:"Fecha",component:"formFieldDate",icon:"date_range",status:"1",data:{}},{field_name:"time",displayName:"Hora",component:"formFieldTime",icon:"access_time",status:"1",data:{}},{field_name:"number",displayName:"Numero",component:"formFieldNumber",icon:"looks_one",status:"1",data:{}},{field_name:"dropdown_select",displayName:"Select",component:"formFieldSelect",status:"1",icon:"list",data:{}},{field_name:"bolean",displayName:"Bolean",component:"formFieldBoolean",status:"1",icon:"check_circle",data:{}}];class User{user_id=null;username="";email="";lastseen="";level="";role="";status="";usergroup_id;user_data={nombre:"",apellido:"",direccion:"",telefono:"","create by":""};constructor(e){for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t]||"")}get_fullname=()=>this.user_data.nombre&&this.user_data.apellido?this.user_data.nombre+" "+this.user_data.apellido:"";get_profileurl=()=>BASEURL+"admin/usuarios/ver/"+this.user_id;get_avatarurl=()=>this.user_data.avatar?BASEURL+this.user_data.avatar:BASEURL+"public/img/profile/default.png";get_edit_url=()=>BASEURL+"admin/usuarios/edit/"+this.user_id}class Page{page_id=null;categorie_id="";content="";date_create="";date_publish="";date_update="";layout="";mainImage=null;model_type="";page_type_id="";path="";status="";subcategorie_id="";subtitle="";template="";title="";user=new User;user_id="";visibility="";constructor(e){for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t]||"")}getcontentText=function(){var e=document.createElement("span");return e.innerHTML=this.content,(e.textContent||e.innerText).substring(0,220)+"..."};getPageImagePath(){return this.imagen_file?BASEURL+this.imagen_file.file_path.substr(2)+this.imagen_file.file_name+"."+this.imagen_file.file_type:BASEURL+"public/img/default.jpg"}getPageFullPath=function(){return 1==this.status?BASEURL+this.path:BASEURL+"admin/paginas/editar/"+this.page_id}}class ExplorerFile{date_create="";date_update="";featured="";file_id="";file_name="";file_path="";file_type="";parent_name="";rand_key="";share_link="";shared_user_group_id="";status="";user_id="";user=new User;constructor(e){for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t]||"")}get_filename=()=>this.file_name+"."+this.file_type;get_relative_file_path=()=>this.file_path+this.get_filename();get_full_file_path=()=>BASEURL+this.file_path+this.get_filename();get_full_share_path=()=>BASEURL+this.share_link;get_icon(){let e="far fa-file";switch(this.file_type){case"folder":e="far fa-folder";break;case"jpg":case"png":case"gif":e="fas fa-file-image";break;case"html":e="fab fa-html5";break;case"scss":e="fab fa-sass";break;case"css":case"min.css":e="fab fa-css3-alt";break;case"txt":e="far fa-file-alt";break;case"php":case"blade.php":e="fab fa-php";break;case"js":case"json":case"min.js":e="fab fa-js";break;case"eot":case"otf":case"woff2":e="fas fa-font"}return e}is_image(){return"jpg"==this.file_type||"png"==this.file_type||"gif"==this.file_type}}class Config_data{type_value="string";validate_as="text";max_lenght="120";min_lenght="0";handle_as="input";input_type="text";perm_values=null;constructor(e){for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);switch(this.type_value){case"boolean":this.handle_as="switch";break;case"number":this.handle_as="input",this.input_type="number"}}}function showRefreshUI(e){document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",'<div id = "update-app-zone" >\n       <div class="card blue-grey darken-1">\n        <div class="card-content white-text">\n          <p><span>Hay una nueva version de la aplicacion, haz click aquí para actualizar</span></p>\n        </div>\n        <div class="card-action">\n          <a href="#"><i class="fas fa-redo"></i> Actualizar</a>\n        </div>\n      </div>\n      </div>');document.querySelector("#update-app-zone a").addEventListener("click",(function(){if(e.waiting){if(window.location.href.includes("admin/login")){localStorage.clear();const e=document.cookie.split(";");for(let t=0;t<e.length;t++){const a=e[t],n=a.indexOf("="),i=n>-1?a.substr(0,n):a;document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}e.waiting.postMessage("skipWaiting")}}))}function onNewServiceWorker(e,t){if(e.waiting)return t();function a(){e.installing.addEventListener("statechange",(function(e){"installed"===e.target.state&&t()}))}if(e.installing)return a();e.addEventListener("updatefound",a)}navigator.serviceWorker&&window.addEventListener("load",(async function(){let e;navigator.serviceWorker.addEventListener("controllerchange",(function(t){e||(e=!0,window.location.reload())})),navigator.serviceWorker.register("/sw.js",{scope:BASEURL+"admin/"}).then((function(e){navigator.serviceWorker.controller&&(e.update(),onNewServiceWorker(e,(function(){showRefreshUI(e)})))}))})),Vue.component("userInfo",{template:'\n  <div class="collection form-user-component user-info-inline">\n    <div class="collection-item avatar">\n      <a :href="user.get_profileurl()">\n        <img :src="user.get_avatarurl()" alt="" class="circle profile-img">\n        <span class="title">{{user.get_fullname()}}</span>\n        <div>{{user.role ? user.role : user.usergroup.name}}</div>\n      </a>\n    </div>\n  </div>\n  ',props:["user"]}),Vue.component("preloader",{template:'\n  <div class="preloader-wrapper big active">\n      <div class="spinner-layer spinner-blue-only">\n          <div class="circle-clipper left">\n              <div class="circle"></div>\n          </div>\n          <div class="gap-patch">\n              <div class="circle"></div>\n          </div>\n          <div class="circle-clipper right">\n              <div class="circle"></div>\n          </div>\n      </div>\n  </div>\n  '}),Vue.component("confirmModal",{props:["id","title"],template:'\n    <div :id="id" class="modal confirm-modal">\n    <div class="modal-content">\n          <div class="modal-header">\n            <div class="row">\n              <div class="col s12">\n                <h4>{{title}}</h4>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n              <div class="col s12">\n                  <slot></slot>\n              </div>\n          </div>\n      </div>\n      <div class="modal-footer">\n          <button type="button" class="modal-action modal-close waves-effect waves-red btn red" @click="onClickButton(false);">Cancelar</button>\n          <button type="button" class="modal-close waves-effect waves-green btn" @click="onClickButton(true);">Aceptar</button>\n      </div>\n  </div>\n  ',methods:{onClickButton(e){this.$emit("notify",e)}}}),Vue.component("preview",{props:["url"],data:()=>({fullScreen:!1,previewUrl:""}),template:'\n  <div class="preview-container" v-bind:class="{fixed: fullScreen}">\n    <div class="preview-options">\n    <input type="text" name="url" id="url" readonly :value="previewUrl">\n    <a href="#!" class="option"><i class="material-icons" v-on:click="expand();">aspect_ratio</i></a>\n    <a :href="previewUrl" class="option" target="_blank"><i class="material-icons">open_in_new</i></a>\n    </div>\n    <iframe class="responsive-iframe" :src="previewUrl"></iframe>\n  </div>\n  ',watch:{url:function(e){this.previewUrl=e}},mounted(){this.$nextTick((function(){this.previewUrl=this.url}))},methods:{togglePreview(){this.fullScreen=!this.fullScreen},expand(){this.$emit("expand")}}});