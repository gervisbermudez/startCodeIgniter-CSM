var MenuLists=new Vue({el:"#root",data:{menus:[],tableView:!0,loader:!0,filter:"",toDeleteItem:{}},computed:{filterMenus:function(){if(this.filter){let e=this.filter.toLowerCase();return this.menus.filter((t,n)=>this.searchInObject(t,e))}return this.menus}},methods:{getcontentText:function(e){return e.description.substring(0,50)+"..."},toggleView:function(){this.tableView=!this.tableView,this.initPlugins()},resetFilter:function(){this.filter=""},getPageImagePath:e=>BASEURL+"public/img/default.jpg",getMenus:function(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/menus/",data:{},dataType:"json",success:function(t){let n=t.data;for(const e in n)n.hasOwnProperty(e)&&(n[e].user=new User(n[e].user));e.menus=n,e.loader=!1,e.initPlugins()},error:function(t){M.toast({html:response.responseJSON.error_message}),e.loader=!1}})},deleteItem:function(e,t){var n=this;n.loader=!0,$.ajax({type:"DELETE",url:BASEURL+"api/v1/menus/"+e.menu_id,data:{},dataType:"json",success:function(e){200==e.code&&n.menus.splice(t,1),setTimeout(()=>{n.loader=!1,n.initPlugins()},1e3)},error:function(e){M.toast({html:response.responseJSON.error_message}),n.loader=!1}})},tempDelete:function(e,t){this.toDeleteItem.menu=e,this.toDeleteItem.index=t},confirmCallback(e){e&&this.deleteItem(this.toDeleteItem.menu,this.toDeleteItem.index)},base_url:function(e){return BASEURL+e},initPlugins:function(){setTimeout(()=>{var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e,{}),e=document.querySelectorAll(".dropdown-trigger"),M.Dropdown.init(e,{})},3e3)}},mounted:function(){this.$nextTick((function(){this.getMenus()}))}});