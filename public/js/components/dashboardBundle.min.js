Vue.component("createContents",{template:"#create-contents-template",props:[],data:function(){return{debug:!1,loader:!1,forms_types:[],content:[]}},mixins:[mixins],methods:{getDataFromServe(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/forms/",data:{},dataType:"json",success:function(t){console.log(t),e.forms_types=t.data}}),$.ajax({type:"GET",url:BASEURL+"api/v1/forms/data",data:{},dataType:"json",success:function(t){console.log(t),e.content=t.data,e.content.map(e=>(e.user=new User(e.user),e.status="1"==e.status,e))}}),setTimeout(()=>{var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e,{}),e=document.querySelectorAll(".collapsible"),M.Collapsible.init(e,{})},3e3)},isActive:e=>e.status,toggleStatus(e){$.ajax({type:"POST",url:BASEURL+"api/v1/forms/data_set_status/"+e.form_content_id,data:{status:e.status?"1":"0"},dataType:"json",success:function(e){console.log(e),M.toast({html:"Actualizado"})}})},getFormsTypeUrl:e=>BASEURL+"admin/formularios/addData/"+e.form_custom_id,base_url:e=>BASEURL+e},mounted:function(){this.$nextTick((function(){this.debug&&console.log("mounted: createContents"),this.getDataFromServe()}))}}),Vue.component("fileExplorerCollection",{template:"#fileExplorerCollection-template",data:function(){return{debug:DEBUGMODE,files:[]}},mixins:[mixins],computed:{shortFiles:function(){if(this.filter){let e=this.filter.toLowerCase();return this.files.filter((t,s)=>this.searchInObject(t,e))}return this.files.filter(e=>"folder"!=e.file_type).slice(0,25)}},methods:{getFiles(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/files/",data:{},dataType:"json",success:function(t){if(200==t.code){let s=t.data;s=s.map(e=>new ExplorerFile(e)),e.files=s,e.init()}}})},getFilterFiles(e,t){var s=this;$.ajax({type:"POST",url:BASEURL+"api/v1/files/filter_files",data:{filter_name:e,filter_value:t},dataType:"json",success:function(e){if(200==e.code){let t=e.data.map(e=>new ExplorerFile(e));s.files=t}}})},filterFiles(e){switch(e){case"important":this.getFilterFiles("featured",["1"]);break;case"trash":this.getFilterFiles("file_path",["./trash/"]),this.curDir="./trash/";break;case"images":this.getFilterFiles("file_type",["jpg","png","gif"]);break;case"doc":this.getFilterFiles("file_type",["pdf","doc"]);break;case"docs":this.getFilterFiles("file_type",["pdf","doc","xls"]);break;case"audio":this.getFilterFiles("file_type",["acc, mp3"]);break;case"video":this.getFilterFiles("file_type",["mp4"]);break;case"zip":this.getFilterFiles("file_type",["zip","rar"])}},featuredFileServe(e){e.featured="1"==e.featured?"0":"1",$.ajax({type:"POST",url:BASEURL+"api/v1/files/featured_file",data:{file:e},dataType:"json",success:function(e){200==e.code&&M.toast({html:"Done!"})}})},init(){$(".fileExplorerCollection-root .collection").niceScroll(),setTimeout(()=>{var e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e,{})},2e3)}},mounted:function(){this.$nextTick((function(){this.getFiles(),this.debug&&console.log("mounted: usersCollection")}))}}),Vue.component("pageCard",{template:"#page-card-template",data:function(){return{debug:DEBUGMODE,pages:[]}},computed:{},methods:{contentText:function(e){var t=document.createElement("span");return t.innerHTML=e.content,(t.textContent||t.innerText).substring(0,220)+"..."},getPages:function(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/pages/",data:{},dataType:"json",success:function(t){let s=t.data;e.pages=s.map(e=>(e.user=new User(e.user),e))},error:function(e){console.error(e)}})},getPageFullPath:function(e){return 1==e.status?BASEURL+e.path:BASEURL+"admin/paginas/editar/"+e.page_id}},mounted:function(){this.$nextTick((function(){this.getPages()}))}}),Vue.component("usersCollection",{template:"#user-collection-template",data:function(){return{debug:DEBUGMODE,users:[]}},methods:{getUsers(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/users/",data:{},dataType:"json",success:function(t){this.debug&&console.log(t);let s=t.data;e.users=s.map(e=>new User(e))},error:function(e){console.error(e)}})}},mounted:function(){this.$nextTick((function(){this.getUsers(),this.debug&&console.log("mounted: usersCollection")}))}});var dashboardModule=new Vue({el:"#root",data:{debug:DEBUGMODE,loader:!0},mounted:function(){this.$nextTick((function(){setTimeout(()=>{M.AutoInit(),this.loader=!1},3e3)}))}});