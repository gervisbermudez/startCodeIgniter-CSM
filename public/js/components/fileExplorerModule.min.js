var fileExplorerModule=new Vue({el:"#root",data:{root:"./",curDir:"",loader:!1,files:[],recentlyFiles:[],backto:null},computed:{getFolders(){return this.files.filter(e=>"folder"==e.file_type)},getFiles(){return this.files.filter(e=>"folder"!=e.file_type)},getBackPath(){return this.getbreadcrumb.length>0?this.getbreadcrumb[this.getbreadcrumb.length-1].path:this.root},getbreadcrumb(){let e=this.curDir.split("/").filter(e=>""!=e&&"."!=e);return e=e.map((t,a)=>{let r=[];for(let t=0;t<a;t++)r.push(e[t]);return{path:this.root+r.join("/"),folder:t}}),e}},methods:{getIcon(e){let t="far fa-file";switch(e.file_type){case"folder":t="far fa-folder";break;case"img":case"png":case"gif":t="fas fa-file-image";break;case"html":t="fab fa-html5";break;case"css":case"min.css":t="fab fa-css3-alt";break;case"txt":t="far fa-file-alt";break;case"php":case"blade.php":t="fab fa-php";break;case"js":case"json":case"min.js":t="fab fa-js"}return t},getExtention:e=>"folder"==e.file_type?"":"."+e.file_type,navigateFiles(e){var t=this;t.backto=t.getBackPath,t.curDir=e,e==t.root&&(t.backto=null),$.ajax({type:"POST",url:BASEURL+"admin/archivos/ajax_get_files",data:{path:e},dataType:"json",success:function(e){200==e.code&&e.data.length&&(t.files=e.data)}})}},filters:{shortName:function(e){return e?(e=e.toString()).length>15?e.substr(0,15)+"...":e.substr(0,15):""}},mounted:function(){this.$nextTick((function(){this.navigateFiles(this.root)}))}});