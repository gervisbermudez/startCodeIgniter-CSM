var FormContentList=new Vue({el:"#root",data:{debug:DEBUGMODE,contents:[],tableView:!0,loader:!0,filter:""},computed:{filterContents:function(){if(this.filter){let e=this.filter.toLowerCase();return this.contents.filter((t,n)=>-1!=t.form_custom.form_name.toLowerCase().indexOf(e)||-1!=t.user.username.toLowerCase().indexOf(e))}return this.contents}},methods:{getcontentText:function(e){let t=e.data;return Object.values(t).join(" ").substring(0,90)+"..."},toggleView:function(){this.tableView=!this.tableView,this.initPlugins()},resetFilter:function(){this.filter=""},getContentImagePath:e=>e.imagen_file?BASEURL+e.imagen_file.file_path.substr(2)+e.imagen_file.file_name+"."+e.imagen_file.file_type:"https://materializecss.com/images/sample-1.jpg",getContents:function(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/forms/data",data:{},dataType:"json",success:function(t){e.contents=t.data,setTimeout(()=>{e.loader=!1,e.initPlugins()},1e3)},error:function(t){M.toast({html:response.responseJSON.error_message}),e.loader=!1}})},deleteContent:function(e,t){var n=this;n.loader=!0,$.ajax({type:"DELETE",url:BASEURL+"api/v1/forms/data/"+e.form_content_id,data:{},dataType:"json",success:function(e){200==e.code&&n.contents.splice(t,1),setTimeout(()=>{n.loader=!1,n.initPlugins()},1e3)},error:function(e){M.toast({html:response.responseJSON.error_message}),n.loader=!1}})},base_url:function(e){return BASEURL+e},initPlugins:function(){setTimeout(()=>{var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e,{}),e=document.querySelectorAll(".dropdown-trigger"),M.Dropdown.init(e,{})},3e3)}},mounted:function(){this.$nextTick((function(){this.getContents(),this.initPlugins()}))}});