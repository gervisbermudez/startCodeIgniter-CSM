var calendar,CalendarList=new Vue({el:"#root",data:{loader:!0,searchResults:!1,events:[]},mixins:[mixins],computed:{},methods:{parseDateTime(e){var a=/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})/.exec(e);return new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6])},performSearch:function(){var e=this;e.loader=!0,$.ajax({type:"GET",url:BASEURL+"api/v1/search/?q=1",data:{},dataType:"json",success:function(a){e.searchResults=a.data,e.searchResults.users=a.data.users.map(e=>new User(e)),a.data&&(a.data.pages.forEach(a=>{e.events.push({id:"page_"+a.page_id,title:a.title,url:e.base_url("admin/pages/view/"+a.page_id),start:e.parseDateTime(a.date_publish),end:e.parseDateTime(a.date_publish)})}),a.data.albumes.forEach(a=>{e.events.push({id:"album_"+a.album_id,title:a.name,url:e.base_url("admin/gallery/items/"+a.album_id),start:e.parseDateTime(a.date_create),end:e.parseDateTime(a.date_create)})}),a.data.users.forEach(a=>{e.events.push({id:"user_"+a.user_id,title:a.get_fullname(),url:a.get_profileurl(),start:e.parseDateTime(a.date_create),end:e.parseDateTime(a.date_create)})})),e.loader=!1,e.init()},error:function(a){e.loader=!1,M.toast({html:"Ocurri√≥ un error inesperado"}),console.error(a)}})},init(){var e=document.getElementById("calendar");(calendar=new FullCalendar.Calendar(e,{initialView:"dayGridMonth",schedulerLicenseKey:"GPL-My-Project-Is-Open-Source",initialDate:"2020-12-07",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},events:this.events})).render()}},mounted:function(){this.$nextTick((function(){this.performSearch()}))}});