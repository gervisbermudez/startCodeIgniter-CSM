Vue.component("userCard",{template:"#user-card-template",props:["user"],data:function(){return{}},methods:{getAvatarUrl(){return BASEURL+"public/img/profile/"+this.user.username+"/"+this.user.user_data.avatar},getUserUrl(){return BASEURL+"admin/usuarios/ver/"+this.user.user_id},base_url:function(e){return BASEURL+e}},mounted:function(){this.$nextTick((function(){}))}});var usersModule=new Vue({el:"#root",data:{users:[],loader:!0,tableView:!1,filter:""},computed:{filterUsers:function(){if(this.filter){let e=this.filter.toLowerCase();return this.users.filter((t,r)=>-1!=t.username.toLowerCase().indexOf(e)||-1!=t.email.toLowerCase().indexOf(e)||-1!=t.role.toLowerCase().indexOf(e)||-1!=t.user_data.nombre.toLowerCase().indexOf(e)||-1!=t.user_data.apellido.toLowerCase().indexOf(e))}return this.users}},watch:{filter:function(e){this.initPlugins()}},methods:{toggleView:function(){this.tableView=!this.tableView,this.initPlugins()},resetSearch(){this.filter=""},getUsers(){var e=this;e.loader=!0,e.users=[],$.ajax({type:"GET",url:BASEURL+"api/v1/users/",data:{},dataType:"json",success:function(t){e.loader=!1,e.users=t.data,e.initPlugins()},error:function(t){M.toast({html:response.responseJSON.error_message}),e.loader=!1}})},base_url:function(e){return BASEURL+e},initPlugins:function(){setTimeout(()=>{var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e,{}),e=document.querySelectorAll(".dropdown-trigger"),M.Dropdown.init(e,{})},3e3)}},mounted:function(){this.$nextTick((function(){this.getUsers()}))}});