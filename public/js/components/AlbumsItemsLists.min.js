var AlbumsLists=new Vue({el:"#root",data:{debug:DEBUGMODE,tableView:!1,loader:!0,filter:"",album_id:null,album:{album_id:"",date_create:"",date_publish:"",date_update:"",description:"",model_type:"",name:"",status:"",user:new User,user_id:"",items:[]}},mixins:[mixins],computed:{filterData:function(){if(this.filter){var e=this.filter.toLowerCase();return this.album.items.filter((t,i)=>this.searchInObject(t,e))}return this.album.items}},methods:{toggleView:function(){this.tableView=!this.tableView,this.initPlugins()},resetFilter:function(){this.filter=""},getPageImagePath:e=>e.file.file_front_path?BASEURL+e.file.file_front_path:BASEURL+"public/img/default.jpg",copyCallcack(e){console.log(e)},getPages:function(){var e=this;$.ajax({type:"GET",url:BASEURL+"api/v1/albumes/"+e.album_id,data:{},dataType:"json",success:function(t){e.album=t.data,e.album.user=new User(e.album.user),setTimeout(()=>{e.loader=!1,e.initPlugins()},1e3)},error:function(t){e.loader=!1,M.toast({html:"Ocurrió un error inesperado"}),console.error(t)}})},deletePage:function(e,t){var i=this;i.loader=!0,$.ajax({type:"DELETE",url:BASEURL+"api/v1/albumes/"+e.page_id,data:{},dataType:"json",success:function(e){200==e.code&&i.items.splice(t,1),setTimeout(()=>{i.loader=!1,i.initPlugins()},1e3)},error:function(e){i.loader=!1,M.toast({html:"Ocurrió un error inesperado"}),console.error(e)}})},initPlugins:function(){setTimeout(()=>{var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e,{});e=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(e,{});e=document.querySelectorAll(".materialboxed");M.Materialbox.init(e,{})},3e3)}},mounted:function(){this.$nextTick((function(){this.album_id=window.location.pathname.split("/").pop(),this.getPages(),this.initPlugins()}))},updated:function(){this.$nextTick((function(){this.initPlugins()}))}});