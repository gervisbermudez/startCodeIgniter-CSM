var dataDeatils=Vue.component("FormSiteDetails",{template:"#FormSiteDetails-template",props:{},data:function(){return{loader:!0,endpoint:"api/v1/siteforms/submit/",data:{siteform_submit_data:{},date_create:"",siteform:{date_create:""},user_tracking:{client_ip:"",date_create:"",no_of_visits:"",user_agent:""}},user:{}}},mixins:[mixins],computed:{keys:function(){return this.data.siteform_submit_data?Object.keys(this.data.siteform_submit_data):[]}},methods:{back:function(){this.$router.push({name:"table"})},initPlugins:function(){setTimeout(()=>{M.Tabs.init(document.getElementById("formTabs"),{});var t=document.querySelectorAll(".tooltipped");M.Tooltip.init(t,{});t=document.querySelectorAll(".dropdown-trigger");M.Dropdown.init(t,{}),this.loader=!1},100)},getData:function(){this.loader=!0;var t=BASEURL+this.endpoint+this.$route.params.siteform_submit_id;fetch(t).then(t=>t.json()).then(t=>{let e=t.data;this.data=e,this.user=new User(e.siteform.user),this.loader=!1,this.initPlugins()}).catch(t=>{self.loader=!1,M.toast({html:"Ocurrió un error inesperado"})})},setArchive:function(){var t=BASEURL+"api/v1/siteforms/submit_archive/"+this.$route.params.siteform_submit_id;fetch(t,{method:"POST"}).then(t=>t.json()).then(t=>{console.log(t),t.data&&(this.data.status=2,M.toast({html:"Se marcó como leido"}))}).catch(t=>{self.loader=!1,M.toast({html:"Ocurrió un error inesperado"}),console.error(t)})},save:function(){this.$router.push({name:"table",params:{data:this.data}}),this.$root.$emit("eventing",this.data)}},mounted:function(){this.$nextTick((function(){this.$route.params.siteform_submit_id?this.getData():this.$router.push({name:"table"})}))}});