(this["webpackJsonpreact-ea6cpb"]=this["webpackJsonpreact-ea6cpb"]||[]).push([[0],{67:function(e,t){},69:function(e,t){},89:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(92),r=a(93),c=a(94),o=a(7),s=a(12),d=a.n(s),l=a(33),p=(new Date).toISOString(),u="".concat(window.location.origin,"/"),m={id:1,name:"Pages",rest_base:"pages",slug:"page",supports:{author:!1,comments:!1,"custom-fields":!1,discussion:!1,editor:!0,excerpt:!1,"page-attributes":!1,revisions:!1,thumbnail:!1,title:!1},viewable:!0},f={id:1,content:{raw:"",rendered:""},date:p,date_gmt:p,title:{raw:"Preview page",rendered:"Preview page"},excerpt:{raw:"",rendered:""},status:"draft",revisions:{count:0,last_id:0},parent:0,theme_style:!0,type:"page",link:"".concat(u,"/preview"),categories:[],featured_media:0,permalink_template:"".concat(u,"/preview"),preview_link:"".concat(u,"/preview"),_links:{"wp:action-assign-categories":[],"wp:action-create-categories":[]}},h=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"api/v1/files/filter_files",{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams("filter_name=file_type&filter_value%5B%5D=jpg&filter_value%5B%5D=png&filter_value%5B%5D=gif")}).then((function(e){return e.json()})).then((function(e){if(200==e.code)return e.data.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t+1,caption:{raw:"",rendered:""},date_gmt:p,date:p,link:"".concat(u,"/").concat(e.file_path).concat(e.file_name,".").concat(e.file_type),media_type:"image",mime_type:"image/jpeg",source_url:"".concat(u,"/").concat(e.file_path).concat(e.file_name,".").concat(e.file_type),media_details:{file:"",height:2100,image_meta:{},sizes:{},width:3360},title:{raw:"",rendered:""}})}))})).catch((function(e){console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(d.a.mark((function e(t){var a,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.querySelector(".editor-block-list__block.is-selected input[type=file]"),0!=(n=a.files).length){e.next=4;break}return e.abrupt("return",!1);case 4:return t=n[0],(i=new FormData).append("chunkCount","1"),i.append("chunkIndex","0"),i.append("chunkSize",t.size),i.append("chunkSizeStart",0),i.append("fileBlob",t),i.append("fileId",t.name),i.append("fileName",t.name),i.append("fileRelativePath","./uploads/".concat(t.name)),i.append("fileSize",t.size),i.append("retryCount",0),i.append("initialPreview",[]),i.append("initialPreviewConfig",[]),i.append("initialPreviewThumbTags",[]),i.append("uploadToken","SOME-TOKEN"),i.append("curDir","./uploads/"),e.next=23,fetch(u+"admin/archivos/ajax_upload_file",{method:"POST",headers:{Accept:"application/json"},body:i}).then((function(e){return e.json()})).then((function(e){return{id:1,guid:{},date_gmt:{},date:{},modified:"",link:"".concat(u).concat(e.post.fileRelativePath),title:"",author:"",generated_slug:"",permalink_template:"",type:"",status:"",slug:"",modified_gmt:"",mime_type:"",media_details:{},description:{},caption:{},alt_text:{},template:"",meta:{},ping_status:"",comment_status:"",post:1,source_url:"".concat(u).concat(e.post.fileRelativePath),missing_image_sizes:[]}})).catch((function(e){console.error(e)}));case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[{theme_supports:{formats:["standard","aside","image","video","quote","link","gallery","audio"],"post-thumbanials":!0,"responsive-embeds":!1}}],g=h(),j=function(e){var t={},a={};switch(e.path){case"/wp/v2/types?context=edit":t={page:m};break;case"/wp/v2/types/page?context=edit":t=Object(o.a)({},m);break;case"/wp/v2/pages/1?context=edit":t=JSON.parse(localStorage.getItem("g-editor-page"))||f;break;case"/wp/v2/pages/1/autosaves":a=JSON.parse(localStorage.getItem("g-editor-page"))||f,e.data&&(a=Object(o.a)(Object(o.a)({},a),{},{content:{raw:e.data.content,rendered:e.data.content.replace(/(<!--.*?-->)/g,"")}}),localStorage.setItem("g-editor-page",JSON.stringify(a))),t=a;break;case"/wp/v2/media?context=edit":t=g;break;case"/wp/v2/media":console.log({options:e}),t="OPTIONS"===e.method?{headers:{get:function(e){if("allow"===e)return["POST"]}}}:"POST"==e.method&&e.body?b(e.body):g;break;case"/wp/v2/themes?status=active":t=v}return new Promise((function(e){e(t)}))};window.wp={apiFetch:j};var w=a(19),O=a(20),_=a(23),k=a(22),y=a(1),x=a.n(y),S=a(24);a(51),a(52);var P=function(e){Object(_.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={loader:!0},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;(e=7e3,new Promise((function(a){setTimeout(a.bind(null,t),e)}))).then((function(){a.setState({loader:!1})})).then((function(){var e={alignWide:!0,availableTemplates:[],allowedBlockTypes:!0,disableCustomColors:!1,disablePostFormats:!1,titlePlaceholder:"Add title",bodyPlaceholder:"Insert your custom block",isRTL:!1,autosaveInterval:0,postLock:{isLocked:!1},canPublish:!1,canSave:!1,canAutosave:!0,mediaLibrary:!0};S.data.dispatch("core/nux").disableTips(),window._wpLoadGutenbergEditor=new Promise((function(t){Object(S.domReady)((function(){t(S.editPost.initializeEditor("editor","page",1,e,{}))}))}))}))}},{key:"render",value:function(){return this.state.loader?Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col s12 center",children:Object(n.jsx)("div",{className:"preloader-wrapper big active",children:Object(n.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(n.jsx)("div",{className:"circle-clipper left",children:Object(n.jsx)("div",{className:"circle"})}),Object(n.jsx)("div",{className:"gap-patch",children:Object(n.jsx)("div",{className:"circle"})}),Object(n.jsx)("div",{className:"circle-clipper right",children:Object(n.jsx)("div",{className:"circle"})})]})})})}):Object(n.jsx)("div",{id:"editor",className:"gutenberg__editor"})}}]),a}(x.a.Component),N=a(45),T=a.n(N),I=function(e){Object(_.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={rendered:""},n}return Object(O.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("g-editor-page"));e&&this.setState({rendered:e.content?e.content.rendered:""})}},{key:"render",value:function(){var e=this.state.rendered;return e?T()(e):Object(n.jsx)("center",{children:Object(n.jsx)("em",{children:"Add your custom block in the editor"})})}}]),a}(x.a.Component);ReactDOM.render(Object(n.jsx)(i.a,{children:Object(n.jsxs)(r.a,{children:[Object(n.jsx)(c.a,{exact:!0,path:"/preview",component:I}),Object(n.jsx)(c.a,{component:P})]})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.8ef91553.chunk.js.map